<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>使用手机找回密码</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<script src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>

	<div class="structure2">
		<div>
			<a class="cancel" href="./findPassword.html"></a>
		</div>
		<div class="subTiltle">
			<div class="smallDescribe">找回密码</div>
			<h2 class="smallHeader">使用手机号找回密码</h2>
		</div>
		<div class="inputBoxes" id="fourInputs">
			<input type="text"  class="userInput"  id="phoneFind" placeholder="请输入您的手机号">
			<div class="verification">
				<input type="text"  class="userInput"  id="verificationEnter" placeholder="请输入验证码">
				<input type="button" id="verificationSend" value="发送验证码">
				<div class="verticleLine"></div>
			</div>
			
			<input type="password"  class="userInput"  id="password" placeholder="请输入您的新密码">
			<input type="password"  class="userInput"  id="passwordAgain" placeholder="请再次输入您的新密码">
			<input type="button"  class="submitButton" id="submit" value="提交" onclick="testPhone()" >
		</div>
	</div>
</body>
<script type="text/javascript">
	//let password, confirmPassword, email, code, language, phone, answer, question;
		//let token = window.localStorage.token;

		// function findPassword()  {
		// 	var phoneFind = document.getElementById('phoneFind');
		// 	var verificationEnter = document.getElementById("verificationEnter");
		// 	var passwordNum = document.getElementById("password");
		// 	var passwordAgain = document.getElementById("passwordAgain");

		// 	if (phoneFind.value.length == 0) { // 未输入手机
		// 		 alert("请输入您的手机号");
		// 		 return;
		// 	} else if (verificationEnter.value.length == 0) { //未输入验证码
		// 		alert("请输入验证码");
		// 		return;
		// 	} else if (passwordNum.value.length == 0) { //未输入新密码
		// 		alert("请输入您的新密码");
		// 		return;
		// 	} else if (passwordAgain.value.length == 0) { //为再次输入新密码
		// 		alert("请再次输入您的新密码");
		// 		return;
		// 	} else if (passwordNum.value != passwordAgain.value) { //新密码不一致
		// 		alert("再次输入密码不一致请重新输入您的新密码");
		// 		return;
		// 	} else {
				
		// 		let phoneReg = /^1[3-578]\d{9}$/; 
		// 		if (phoneReg.test(phoneFind.value) == false) { //输入为非法手机号格式
		// 			alert("请输入正确的手机号");
		// 			return;
		// 		}

		// 		var regLetter = /[A-Za-z]/;
		// 		var regNum = /[0-9]/;
		// 		var regTeShu =new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？+-]");
		// 		 if (passwordNum.value.length < 6 || passwordNum.value.length > 16) { //密码位数不对
		// 			alert("您设置的密码应在6-16位");
		// 			return;
		// 		} else if ((regLetter.test(passwordNum.value)== false)&& (regNum.test(passwordNum.value == false))) { //至少包含一个数字或字母
		// 			alert("您设置的密码应至少包含一个数字或字母");
		// 			return;
		// 		} else if (regTeShu.test(passwordNum.value)) { //不包含特殊字符
		// 			alert("您设置的密码应不包含特殊字符");
		// 			return;
		// 		}

		// 		password = passwordNum.value;
		// 		confirmPassword = passwordAgain.value;
		// 		code = verificationEnter.value;
		// 		phone = phoneFind.value;
		// 		language = "zh";

	          
		// 	}	
		// 	passwordSubmit();
		// }

		// function passwordSubmit(){

		//  	let postData = {
		// 	    password: password,
		// 	    confirm_password: confirmPassword,
		// 	    phone: phone,
		// 	    code: code,
		// 	    language: language
		// 	}
		
	 //        $.ajax({
	 //                type:"POST",
	 //                url: 'http://192.168.0.18:8015/web/basic/getPassword',
	 //                dataType:"json",
	 //                data:JSON.stringify(postData),
	 //                contentType:'application/json',
	 //                headers:{
		//               	'Content-Type':'application/x-www-form-urlencoded', 
		//               	'token' : token
		//              },

	 //                success:function(res){
	 //                	console.log(res)
	 //                     if (res.code == 10001) {
	 //                    	alert("参数错误");
	 //                    }  else if( res.code == 100004) {
	 //                    	alert("验证码错误");
	 //                    }  else if( res.code == 420028) {
	 //                    	alert("密保答案错误");
	 //                    } else if (res.code == 0) {
	 //                    	alert("success");
	 //                    	window.rocation.href = "/components/login.html";
	 //                    } else {
	 //                    	alert( res.code + ": "+ res.msg);
	 //                    }
	 //                },
	 //                error:function(res) {
	 //                   alert("error");
	 //                }
	 //            });
	 //    	}
</script>
</html>
<script type="text/javascript" src="js/findPassword.js"></script>